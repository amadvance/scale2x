<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="Video scaling effect">
<meta name="keywords" content="scale2x blit video effect">
<meta name="author" content="Andrea Mazzoleni">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="style.css">
<title>Scale2x</title>

<!-- Google Analytics 4 -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2TSZG815K5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2TSZG815K5');
</script>

<!-- Google Universal Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21967501-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
<div id="header">
<img src="index.jpg" width="1200" height="150" alt="Title">
</div>
<div id="menu">
<a href="/">About</a>
<a href="download">Download</a>
<a href="algorithm">Algorithm</a>
<a href="scale2xandepx">Scale2x&nbsp;&amp;&nbsp;EPX</a>
<a href="snapshot1">Snapshots&nbsp;4x</a>
<a href="snapshot2">Snapshots&nbsp;2x</a>
<a href="authors">Authors</a>
</div>
<div id="main">


<h2>Scale2x Algorithm</h2>
<p>
The effect works repeating a computation pattern for every pixel of the original
image.
The pattern starts from a square of 9 pixels and expands the central pixel
computing 4 new pixels.
</p>

<p>
Starting from this pattern :
</p>

<center><table class="algo">
<tr><td>A</td><td>B</td><td>C</td></tr>
<tr><td>D</td><td>E</td><td>F</td></tr>
<tr><td>G</td><td>H</td><td>I</td></tr>
</table></center>

<p>
The central pixel <em>E</em> is expanded in 4 new pixels:
</p>

<center><table class="algo">
<tr><td>E0</td><td>E1</td></tr>
<tr><td>E2</td><td>E3</td></tr>
</table></center>

<p>
with these rules (in C language) :
</p>

<pre>
E0 = D == B && B != F && D != H ? D : E;
E1 = B == F && B != D && F != H ? F : E;
E2 = D == H && D != B && H != F ? D : E;
E3 = H == F && D != H && B != F ? F : E;
</pre>

<p>
which can be rewritten as :
</p>

<pre>
E0 = D == B && B != H && D != F ? D : E;
E1 = B == F && B != H && D != F ? F : E;
E2 = D == H && B != H && D != F ? D : E;
E3 = H == F && B != H && D != F ? F : E;
</pre>

<p>
and optimized as:
</p>

<pre>
if (B != H && D != F) {
	E0 = D == B ? D : E;
	E1 = B == F ? F : E;
	E2 = D == H ? D : E;
	E3 = H == F ? F : E;
} else {
	E0 = E;
	E1 = E;
	E2 = E;
	E3 = E;
}
</pre>

<p>
The image border is computed reusing the value of the nearest pixel on the
border when the value of a pixel over the border is required.
</p>

<h2>Scale3x Algorithm</h2>
<p>
Starting from this pattern :
</p>

<center><table class="algo">
<tr><td>A</td><td>B</td><td>C</td></tr>
<tr><td>D</td><td>E</td><td>F</td></tr>
<tr><td>G</td><td>H</td><td>I</td></tr>
</table></center>

<p>
The central pixel <em>E</em> is expanded in 9 new pixels:
</p>

<center><table class="algo">
<tr><td>E0</td><td>E1</td><td>E2</td></tr>
<tr><td>E3</td><td>E4</td><td>E5</td></tr>
<tr><td>E6</td><td>E7</td><td>E8</td></tr>
</table></center>

<p>
with these rules (in C language) :
</p>

<pre>
E0 = D == B && B != F && D != H ? D : E;
E1 = (D == B && B != F && D != H && E != C) || (B == F && B != D && F != H && E != A) ? B : E;
E2 = B == F && B != D && F != H ? F : E;
E3 = (D == B && B != F && D != H && E != G) || (D == H && D != B && H != F && E != A) ? D : E;
E4 = E
E5 = (B == F && B != D && F != H && E != I) || (H == F && D != H && B != F && E != C) ? F : E;
E6 = D == H && D != B && H != F ? D : E;
E7 = (D == H && D != B && H != F && E != I) || (H == F && D != H && B != F && E != G) ? H : E;
E8 = H == F && D != H && B != F ? F : E;
</pre>

<p>
and optimized as:
</p>

<pre>
if (B != H && D != F) {
	E0 = D == B ? D : E;
	E1 = (D == B && E != C) || (B == F && E != A) ? B : E;
	E2 = B == F ? F : E;
	E3 = (D == B && E != G) || (D == H && E != A) ? D : E;
	E4 = E;
	E5 = (B == F && E != I) || (H == F && E != C) ? F : E;
	E6 = D == H ? D : E;
	E7 = (D == H && E != I) || (H == F && E != G) ? H : E;
	E8 = H == F ? F : E;
} else {
	E0 = E;
	E1 = E;
	E2 = E;
	E3 = E;
	E4 = E;
	E5 = E;
	E6 = E;
	E7 = E;
	E8 = E;
}
</pre>

<h2>Scale4x Algorithm</h2>
<p>
The Scale4x effect is simply the Scale2x effect applied two times.
</p>

<h2>Examples</h2>
<p>
The following are some examples that show the application of the effects.
</p>

<table>
<tr><td align="center"><img src="snap/test-1x.png" alt="Original"><br>original</td></tr>
<tr><td align="center"><img src="snap/test-2x.png" alt="Scale2x"><br>scale2x</td></tr>
<tr><td align="center"><img src="snap/test-3x.png" alt="Scale3x"><br>scale3x</td></tr>
<tr><td align="center"><img src="snap/test-4x.png" alt="Scale4x"><br>scale4x</td></tr>
</table>

</div>

<div id="footer">

<div class="column">
<span class="bold">Donate with</span>
<br>
<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=amadvance%40gmail%2ecom&lc=US&item_name=Scale2x&no_note=0&currency_code=USD&bn=PP%2dDonationsBF%3abtn_donateCC_LG%2egif%3aNonHostedGuest"><img src="paypal.png" width="160" height="60" alt="PayPal"></a>

</div>

<div class="column">
<span class="bold">Find other resources at</span>
<br>
<a href="https://github.com/amadvance/scale2x/"><img src="github.png" width="160" height="60" alt="GitHub"></a>
<a href="http://sourceforge.net/projects/scale2x/"><img src="sourceforge.png" width="115" height="60" alt="SourceForge"></a>
</div>

</div>
</body>
</html>



