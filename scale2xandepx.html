<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="description" content="Video scaling effect">
<meta name="keywords" content="scale2x blit video effect">
<meta name="author" content="Andrea Mazzoleni">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="style.css">
<title>Scale2x</title>

<!-- Google Analytics 4 -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2TSZG815K5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2TSZG815K5');
</script>

<!-- Google Universal Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21967501-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
<div id="header">
<img src="index.jpg" width="1200" height="150" alt="Title">
</div>
<div id="menu">
<a href="/">About</a>
<a href="download">Download</a>
<a href="algorithm">Algorithm</a>
<a href="scale2xandepx">Scale2x&nbsp;&amp;&nbsp;EPX</a>
<a href="snapshot1">Snapshots&nbsp;4x</a>
<a href="snapshot2">Snapshots&nbsp;2x</a>
<a href="authors">Authors</a>
</div>
<div id="main">


<p>
After developing the Scale2x algorithm in the 2001 for the
<a href="http://www.advancemame.it/">AdvanceMAME</a> project, some years later,
I found in the Wikipedia article <a href="http://en.wikipedia.org/wiki/Pixel_art_scaling_algorithms">Pixel art scaling algorithms</a>
that an already developed algorithm called EPX was producing the exact same result of Scale2x!
</p>

<p>
Really a surprise, as in fact, they are producing the same graphic effect despite the Scale2x algorithm definition is
considerably different and faster!
</p>

<p>
The following is an extract of the MacTech article <a href="http://www.mactech.com/articles/mactech/Vol.15/15.06/FastBlitStrategies/index.html">Fast Blit Strategies: A Mac Programmer's Guide, vol15, issue6, 1999</a>
describing the EPX algorithm developed by Eric Johnston in the 1992 when working for LucasArts.
</p>

<p><i>
Another common speed-multiplying technique is pixel doubling, which is where each pixel of
the source image (whether it's a sprite, icon, underlay image, or whatever) is drawn as a 2x2 tile onscreen.
Essentially, you're scaling a quarter-size image up to full size - hence, the potential exists
for a 4:1 speed boost. The downside to this technique is that it gives a "chunky pixel"
look that can be annoying; but there happens to be a useful workaround, in the form of the 'epx' antialiasing
technique pioneered by LucasArts' Eric Johnston. Figure 1 shows how it works.
</i></p>

<center>
<img src="fig01.gif" alt="EPX">
</center>

<p><i>
The problem is this: how to scale pixel 'P' to be four times its original size, but without all four new pixels
necessarily being the same color. (We want some antialiasing.) In Figure 1, the tic-tac-toe grid on the left
represents the pixel 'P' and its north, south, east, and west neighbors in the source (offscreen buffer) image.
The 2x2 tile on the right represents the new (onscreen) pixels, which will derive from P.
The question is how to color P1, P2, P3, and P4 without giving the "chunky pixel" look.
</i></p>

<p><i>
The answer is to base P1 on the back-buffer pixels 'A' and 'C'; base P2 on 'A' and 'B'; base P3 on 'C' and 'D';
and base P4 on 'D' and 'B'. We say that 'A' and 'C' are the "parents" of P1, 'D' and 'B' are the parents of P4, etc.,
and likewise, P1 is the child of 'A' and 'C', and so forth. The rule to follow is this:
<u>
If any two parents are equal in color, then make the child that color.
Otherwise, let the child be the color of 'P'.
Also, if at least three of the parents (A, B, C, D) are identical, do nothing: just let P1 = P2 = P3 = P4 = P.
</u>
(Johnston discusses this technique on page 692 of Tricks of the Mac Game Programming Gurus, Hayden Books, 1995.)
</i></p>

</div>

<div id="footer">

<div class="column">
<span class="bold">Donate with</span>
<br>
<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=amadvance%40gmail%2ecom&lc=US&item_name=Scale2x&no_note=0&currency_code=USD&bn=PP%2dDonationsBF%3abtn_donateCC_LG%2egif%3aNonHostedGuest"><img src="paypal.png" width="160" height="60" alt="PayPal"></a>

</div>

<div class="column">
<span class="bold">Find other resources at</span>
<br>
<a href="https://github.com/amadvance/scale2x/"><img src="github.png" width="160" height="60" alt="GitHub"></a>
<a href="http://sourceforge.net/projects/scale2x/"><img src="sourceforge.png" width="115" height="60" alt="SourceForge"></a>
<a href="https://travis-ci.org/amadvance/scale2x/"><img src="travisci.png" width="64" height="60" alt="TravisCI"></a>
</div>

</div>
</body>
</html>





